<div class="modal-header">
  <button type="button" class="close" ng-click="mas.cancel()">
    <span class="pficon pficon-close"></span>
  </button>
  <h4 class="modal-title">Response Time Alert Settings</h4>
</div>

<div class="modal-body alert-settings">
  <div class="hk-tab-content">
    <p>Configure conditions settings for Availability alerts and notifications.</p>
    <form class="form-horizontal">
      <fieldset>
        <legend>Downtime</legend>
        <div class="form-group">
          <label class="col-sm-3 control-label" for="dw-duration">Duration (maximum)</label>
          <div class="col-sm-5 inline-row">
            <div class="input-group input-select">
              <input type="text" class="form-control" placeholder="Duration" id="dw-duration" value="5">
              <select class="selectpicker" style="display: none;">
                <option>seconds</option>
                <option selected="selected">minutes</option>
                <option>hours</option>
              </select><div class="btn-group bootstrap-select input-group-btn"><button type="button" class="btn dropdown-toggle selectpicker btn-default" data-toggle="dropdown" title="minutes"><span class="filter-option pull-left">minutes</span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open"><ul class="dropdown-menu inner selectpicker" role="menu"><li rel="0"><a tabindex="0" class="" style=""><span class="text">seconds</span><i class="glyphicon glyphicon-ok icon-ok check-mark"></i></a></li><li rel="1" class="selected"><a tabindex="0" class="" style=""><span class="text">minutes</span><i class="glyphicon glyphicon-ok icon-ok check-mark"></i></a></li><li rel="2"><a tabindex="0" class="" style=""><span class="text">hours</span><i class="glyphicon glyphicon-ok icon-ok check-mark"></i></a></li></ul></div></div>
            </div>
          </div>
          <div class="col-sm-4">
            <hk-switch hk-model="jas.adm.heap.conditionLtEnabled"
                       id="usage-less-switch" class="pull-right"></hk-switch>
          </div>
        </div>
      </fieldset>
      <hk-fieldset-dampening hk-duration="jas.adm.heap.responseDuration"></hk-fieldset-dampening>

      <hk-fieldset-notification hk-alert-email="jas.adm.heap.email"></hk-fieldset-notification>
    </form>
  </div>
</div>

<!--div class="modal-body alert-settings">
  <form class="form-horizontal" name="mas.alertsSetup">
    <fieldset>
      <legend>Contact</legend>
      <p>Receive email notifications in the following address when the alert conditions are met.</p>
      <div class="form-group">
        <label class="col-md-3 control-label" for="email">Email</label>
        <div class="col-md-6">
          <input type="text" id="email" class="form-control"  ng-model="mas.trigger_thres.actions.email[0]"
                 ng-change="mas.alertSettingTouch()">
          <span class="help-block">Send alerts to this email address.</span>
        </div>
      </div>
    </fieldset>
    <fieldset>
      <legend>Response Time</legend>
      <div class="form-group onffswitch-form-group">
        <label class="col-md-3 control-label" for="trigger_thres.enabled">Status</label>
        <div class="onoffswitch-container">
          <hk-switch hk-model="mas.trigger_thres.enabled"
                     hk-change="mas.alertSettingTouch()"
                     id="trigger_thres.enabled"></hk-switch>
        </div>
      </div>
      <div ng-show="mas.trigger_thres.enabled">
        <div class="form-group">
          <label class="col-md-3 control-label" for="time">Time (maximum)</label>
          <div class="col-md-9 inline-row">
            <div class="input-group input-addon">
              <input type="number" class="form-control" placeholder="Time" id="time"
                     ng-model="mas.trigger_thres_cond[0].threshold" ng-change="mas.alertSettingTouch()">
              <span class="input-group-addon">milliseconds</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-md-3 control-label">Notification Rate</label>
          <div class="col-md-9">
            <div class="radio">
              <label>
                <input type="radio" name="notification" id="every-time" ng-value="false"
                       ng-change="mas.alertSettingTouch()"
                       ng-model="mas.thresDampDurationEnabled" ng-click="mas.disableDuration()" checked="">
                Every time the maximum time is exceeded.
              </label>
            </div>
            <div class="radio">
              <label>
                <input type="radio" name="notification" id="greater-time" ng-value="true"
                       ng-change="mas.alertSettingTouch()"
                       ng-model="mas.thresDampDurationEnabled" ng-click="mas.enableDuration()" >
                Only when exceeded for greater than
              </label>
            </div>
            <div class="input-group input-select indented">
              <input type="number" class="form-control" placeholder="Duration" ng-model="mas.responseDuration"
                     ng-disabled="!mas.thresDampDurationEnabled" ng-change="mas.alertSettingTouch()">
              <select pf-select ng-model="mas.responseUnit" id="responseUnit"
                      ng-disabled="!mas.thresDampDurationEnabled"
                      ng-options="item.value as item.label for item in mas.timeUnits"
                      ng-change="mas.changeResponseTimeUnits()"></select>
            </div>
          </div>
        </div>
      </div>
    </fieldset>
    <fieldset>
      <legend>Downtime</legend>
      <div class="form-group onffswitch-form-group">
        <label class="col-md-3 control-label" for="trigger_avail.enabled">Status</label>
        <div class="onoffswitch-container">
          <hk-switch hk-model="mas.trigger_avail.enabled"
                     hk-change="mas.alertSettingTouch()"
                     id="trigger_avail.enabled"></hk-switch>
        </div>
      </div>
      <div ng-show="mas.trigger_avail.enabled">
        <div class="form-group">
          <label class="col-md-3 control-label" for="downtimeDuration">Duration (maximum)</label>
          <div class="col-md-6 inline-row">
            <div class="input-group duration">
              <input type="number" class="form-control" placeholder="Duration" ng-model="mas.downtimeDuration"
                     id="downtimeDuration" ng-change="mas.alertSettingTouch()">
              <select pf-select ng-model="mas.downtimeUnit" id="downtimeUnit"
                      ng-options="item.value as item.label for item in mas.timeUnits"
                      ng-change="mas.changeDowntimeTimeUnits()"></select>
            </div>
          <span class="help-block">Send alerts when the downtime lasts
            more than {{mas.downtimeDuration}} {{mas.timeUnitsDict[mas.downtimeUnit]}}.</span>
          </div>
        </div>
      </div>
    </fieldset>
  </form>
</div-->
<div class="modal-footer alert-settings">
  <button type="button" class="btn btn-primary" ng-click="mas.save()"
          ng-disabled="!mas.alertsSetup.$valid || !mas.isSettingChange || mas.saveProgress">
    <div ng-show="mas.saveProgress" class="spinner spinner-xs hk-modal-spinner"></div>Save</button>
  <button type="button" class="btn btn-default" ng-click="mas.cancel()">Cancel</button>
</div>
